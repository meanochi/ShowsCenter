<div class="" dir="rtl">
  <div class="grid grid-nogutter surface-section shadow-2 border-round-xl overflow-hidden">
    <div class="col-12 md:col-6 p-0 relative">
      <img
        [src]="showProd.imgUrl ? 'https://localhost:44304/'+ showProd.imgUrl : 'timeBank.png'"
        alt="תמונת מופע"
        class="w-full h-full object-cover"
        style="min-height: 300px; max-height: 450px"
      />
    </div>

    <div class="col-12 md:col-6 p-4 flex flex-column justify-content-between">
      <div class="text-center md:text-right mb-4">
        <h2 class="text-xl font-semi-bold text-700 mb-0">
          {{ categories[showProd.categoryId].name }}
        </h2>
        <h1 class="text-4xl font-bold text-900 mb-2 mt-1">{{ showProd.title }}</h1>
        <div class="text-xl font-bold text-700 mb-1">
          <i class="pi pi-calendar ml-2"></i>{{ showProd.date | date: 'dd.MM.yyyy' }}
        </div>
        <div class="text-lg text-600 mb-2">
          <i class="pi pi-clock ml-2"></i>{{ showProd.beginTime | date: 'HH:mm' }} -
          {{ showProd.endTime | date: 'HH:mm' }}
        </div>
        <div class="text-700 mb-3">{{ showProd.description }}</div>

        <div
          class="flex align-items-center justify-content-center md:justify-content-start gap-3 text-primary font-bold"
        >
          <span>מתאים ל:</span>
          <span class="bg-blue-50 text-blue-700 px-2 py-1 border-round">{{
            showProd.audience
          }}</span>
          <span class="bg-pink-50 text-pink-700 px-2 py-1 border-round">{{ showProd.sector }}</span>
        </div>
      </div>

      <div class="flex align-items-center justify-content-center md:justify-content-start mb-4">
        <span class="font-bold ml-2">מאת:</span>
        <p-avatar
          [image]="(currentProvider?.profileimgUrl ? 'https://localhost:44304/' + currentProvider?.profileimgUrl : 'log.png')"
          shape="circle"
          size="large"
          class="ml-2"
        ></p-avatar>
        <span class="text-lg">{{ currentProvider?.name }}</span>
      </div>

      <div
        class="flex flex-column md:flex-row-reverse align-items-center justify-content-between gap-3 border-top-1 surface-border pt-4"
      >
        <div class="flex flex-column align-items-center text-center w-full md:w-auto">
          <div class="text-2xl text-blue-600 font-bold mb-2 font-mono">05:06:05:20</div>
          <span class="text-sm text-500 mb-3">עד המופע נשארו עוד</span>

          <button
            pButton
            label="להשתתפות במופע"
            icon="pi pi-arrow-left"
            class="p-button-outlined p-button-lg w-full"
          ></button>
        </div>

        <!-- <div class="flex gap-2 w-full md:w-auto justify-content-center">
          @for(price of prices;track $index){}
          <div *ngFor="let price of prices" class="surface-card border-1 surface-border border-round p-3 text-center cursor-pointer hover:surface-100 transition-colors flex-1" style="min-width: 80px;">
            <div class="text-sm text-500 mb-1">יציע:</div>
            <div class="text-xl font-bold text-900 mb-1">{{showProd.hallMap.price}}$</div>
            <div class="text-xs text-green-600">נותרו עוד {{showProd.endTime}}</div>
          </div>
        </div> -->
      </div>
    </div>
  </div>

  <div class="mt-6">
    <h2 class="text-2xl font-bold text-800 mb-3 pr-2 border-right-3 border-primary">
      עוד בקטגוריה
    </h2>

    <p-carousel
      [value]="relatedEvents"
      [numVisible]="4"
      [numScroll]="1"
      [circular]="true"
      [responsiveOptions]="responsiveOptions"
    >
      <ng-template let-item pTemplate="item">
        <div
          class="border-1 surface-border border-round m-2 text-center p-3 shadow-1 h-full surface-card"
        >
          <div class="mb-3 relative bg-gray-100 border-round" style="height: 120px">
            <img
              [src]="(item.imgUrl ? 'https://localhost:44304/' + item.imgUrl : 'timeBank.png')"
              class="w-full h-full object-cover border-round"
            />
          </div>
          <div class="font-bold text-700">{{ item.title }}</div>
          <div class="font-bold text-700">{{ item.date | date: 'dd.MM.yyyy' }}</div>
        </div>
      </ng-template>
    </p-carousel>
  </div>
</div>
