<div class="seats-map-wrapper" dir="rtl">
  @if (show) {
    <div class="seats-card">
      <div class="legend">
        <span class="legend-item">
          <span class="legend-seat legend-seat-available"></span>
          מושב פנוי
        </span>
        <span class="legend-item">
          <span class="legend-seat legend-seat-disabled"></span>
          מושב תפוס / לא זמין
        </span>
      </div>

      <div class="seats-layout">
        <!-- Left balcony -->
        <section class="section left-bal">
          <h4 class="section-title">יציע שמאל</h4>
          <div class="section-grid section-grid-skew-left">
            @for (row of show.leftBalMap.map; track $index) {
              <div class="seat-row">
                @for (seat of row; track seat.col) {
                  <button
                    class="seat-button"
                    [class.seat-disabled]="seat.status"
                    [class.seat-available]="!seat.status"
                    [disabled]="seat.status"
                    [title]="getSeatTitle(seat, show.leftBalMap.price)"
                    type="button"
                  ></button>
                }
              </div>
            }
          </div>
        </section>

        <!-- Center balcony -->
        <section class="section center-bal">
          <h4 class="section-title">יציע מרכז</h4>
          <div class="section-grid section-grid-curve-top">
            @for (row of show.centerBalMap.map; track $index) {
              <div class="seat-row">
                @for (seat of row; track seat.col) {
                  <button
                    class="seat-button"
                    [class.seat-disabled]="seat.status"
                    [class.seat-available]="!seat.status"
                    [disabled]="seat.status"
                    [title]="getSeatTitle(seat, show.centerBalMap.price)"
                    type="button"
                  ></button>
                }
              </div>
            }
          </div>
        </section>

        <!-- Right balcony -->
        <section class="section right-bal">
          <h4 class="section-title">יציע ימין</h4>
          <div class="section-grid section-grid-skew-right">
            @for (row of show.rightBalMap.map; track $index) {
              <div class="seat-row">
                @for (seat of row; track seat.col) {
                  <button
                    class="seat-button"
                    [class.seat-disabled]="seat.status"
                    [class.seat-available]="!seat.status"
                    [disabled]="seat.status"
                    [title]="getSeatTitle(seat, show.rightBalMap.price)"
                    type="button"
                  ></button>
                }
              </div>
            }
          </div>
        </section>

        <!-- Main hall -->
        <section class="section hall">
          <h4 class="section-title">אולם</h4>
          <div class="section-grid section-grid-curve-bottom">
            @for (row of show.hallMap.map; track $index; let i = $index) {
              <div class="seat-row" [class.row-inner]="i < 3" [class.row-outer]="i >= 7">
                @for (seat of row; track seat.col) {
                  <button
                    class="seat-button"
                    [class.seat-disabled]="seat.status"
                    [class.seat-available]="!seat.status"
                    [disabled]="seat.status"
                    [title]="getSeatTitle(seat, show.hallMap.price)"
                    type="button"
                  ></button>
                }
              </div>
            }
          </div>
        </section>
      </div>
    </div>
  }
</div>
